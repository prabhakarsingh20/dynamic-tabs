import { useState } from "react";
import "./App.css";

const content = [
  {
    summary: "React is a library for building UIs",
    details:
      "React is a JavaScript library used to build fast and interactive user interfaces. It helps developers create reusable UI components and efficiently update the view when data changes.",
  },
  {
    summary: "State management is like giving state a home",
    details:
      "State management means deciding where and how data should live in an application. It helps keep track of changes in data and ensures that the UI stays in sync with the current state.",
  },
  {
    summary: "We can think of props as the component API",
    details:
      "Props are used to pass data from one component to another. They act like inputs to a component, allowing components to be dynamic, reusable, and configurable.",
  },
];

export default function App() {
  return (
    <>
      <div>
        <Tabbed content={content} />
      </div>
    </>
  );
}

function Tabbed({ content }) {
  const [activeTab, setActiveTab] = useState(0);

  return (
    <div>
      <div className="tabs">
        <Tab num={0} activeTab={activeTab} onClick={setActiveTab} />
        <Tab num={1} activeTab={activeTab} onClick={setActiveTab} />
        <Tab num={2} activeTab={activeTab} onClick={setActiveTab} />

        <Tab num={3} activeTab={activeTab} onClick={setActiveTab} />
      </div>
      {activeTab <= 2 ? (
        <TabContent
          item={content.at(activeTab)}
          key={content.at(activeTab).summary}
        />
      ) : (
        <DifferentContent />
      )}
    </div>
  );
}

function Tab({ num, activeTab, onClick }) {
  return (
    <button
      className={activeTab === num ? "tab active" : "tab"}
      onClick={() => onClick(num)}
    >
      Tab {num + 1}
    </button>
  );
}

function TabContent({ item }) {
  const [showDetails, setShowDetails] = useState(true);
  const [likes, setLikes] = useState(0);

  function handleInc() {
    setLikes((likes) => likes + 1);
  }

  return (
    <div className="tab-content">
      <h4>{item.summary}</h4>
      {showDetails && <p>{item.details}</p>}

      <div className="tab-actions">
        <button onClick={() => setShowDetails((h) => !h)}>
          {showDetails ? "Hide" : "Show"} details
        </button>

        <div className="hearts-counter">
          <span>{likes} â¤ï¸</span>
          <button onClick={handleInc}>+</button>
          <button>+++</button>
        </div>
      </div>

      <div className="tab-undo">
        <button>Undo</button>
        <button>Undo in 2s</button>
      </div>
    </div>
  );
}

function DifferentContent() {
  return (
    <div className="tab-content">
      <h4>I'm a DIFFERENT tab, so I reset state ğŸ’£ğŸ’¥</h4>
    </div>
  );
}
